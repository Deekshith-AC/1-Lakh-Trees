import{r as e,u as I,s as L,a as F,P as _,L as $,b as U,I as v,j as u,m as A}from"./index-DMH6zYh0.js";const j=new Set;function O(s,n,t){j.has(n)||(console.warn(n),j.add(n))}function k(){const s=e.useRef(!1);return I(()=>(s.current=!0,()=>{s.current=!1}),[]),s}function T(){const s=k(),[n,t]=e.useState(0),r=e.useCallback(()=>{s.current&&t(n+1)},[n]);return[e.useCallback(()=>L.postRender(r),[r]),n]}class G extends e.Component{getSnapshotBeforeUpdate(n){const t=this.props.childRef.current;if(t&&n.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=t.offsetHeight||0,r.width=t.offsetWidth||0,r.top=t.offsetTop,r.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function K({children:s,isPresent:n}){const t=e.useId(),r=e.useRef(null),h=e.useRef({width:0,height:0,top:0,left:0});return e.useInsertionEffect(()=>{const{width:d,height:o,top:i,left:l}=h.current;if(n||!r.current||!d||!o)return;r.current.dataset.motionPopId=t;const p=document.createElement("style");return document.head.appendChild(p),p.sheet&&p.sheet.insertRule(`
          [data-motion-pop-id="${t}"] {
            position: absolute !important;
            width: ${d}px !important;
            height: ${o}px !important;
            top: ${i}px !important;
            left: ${l}px !important;
          }
        `),()=>{document.head.removeChild(p)}},[n]),e.createElement(G,{isPresent:n,childRef:r,sizeRef:h},e.cloneElement(s,{ref:r}))}const R=({children:s,initial:n,isPresent:t,onExitComplete:r,custom:h,presenceAffectsLayout:d,mode:o})=>{const i=F(B),l=e.useId(),p=e.useMemo(()=>({id:l,initial:n,isPresent:t,custom:h,onExitComplete:f=>{i.set(f,!0);for(const a of i.values())if(!a)return;r&&r()},register:f=>(i.set(f,!1),()=>i.delete(f))}),d?void 0:[t]);return e.useMemo(()=>{i.forEach((f,a)=>i.set(a,!1))},[t]),e.useEffect(()=>{!t&&!i.size&&r&&r()},[t]),o==="popLayout"&&(s=e.createElement(K,{isPresent:t},s)),e.createElement(_.Provider,{value:p},s)};function B(){return new Map}const g=s=>s.key||"";function D(s,n){s.forEach(t=>{const r=g(t);n.set(r,t)})}function H(s){const n=[];return e.Children.forEach(s,t=>{e.isValidElement(t)&&n.push(t)}),n}const V=({children:s,custom:n,initial:t=!0,onExitComplete:r,exitBeforeEnter:h,presenceAffectsLayout:d=!0,mode:o="sync"})=>{h&&(o="wait",O(!1,"Replace exitBeforeEnter with mode='wait'"));let[i]=T();const l=e.useContext($).forceRender;l&&(i=l);const p=k(),f=H(s);let a=f;const m=new Set,w=e.useRef(a),y=e.useRef(new Map).current,C=e.useRef(!0);if(I(()=>{C.current=!1,D(f,y),w.current=a}),U(()=>{C.current=!0,y.clear(),m.clear()}),C.current)return e.createElement(e.Fragment,null,a.map(c=>e.createElement(R,{key:g(c),isPresent:!0,initial:t?void 0:!1,presenceAffectsLayout:d,mode:o},c)));a=[...a];const E=w.current.map(g),b=f.map(g),M=E.length;for(let c=0;c<M;c++){const x=E[c];b.indexOf(x)===-1&&m.add(x)}return o==="wait"&&m.size&&(a=[]),m.forEach(c=>{if(b.indexOf(c)!==-1)return;const x=y.get(c);if(!x)return;const N=E.indexOf(c),P=()=>{y.delete(c),m.delete(c);const z=w.current.findIndex(S=>S.key===c);if(w.current.splice(z,1),!m.size){if(w.current=f,p.current===!1)return;i(),r&&r()}};a.splice(N,0,e.createElement(R,{key:g(x),isPresent:!1,onExitComplete:P,custom:n,presenceAffectsLayout:d,mode:o},x))}),a=a.map(c=>{const x=c.key;return m.has(x)?c:e.createElement(R,{key:g(c),isPresent:!0,presenceAffectsLayout:d,mode:o},c)}),e.createElement(e.Fragment,null,m.size?a:a.map(c=>e.cloneElement(c)))};function q(){const s=["విజన్","మిషన్","ఆంధ్ర మ్యాప్","పార్టనర్స్","ఇంపాక్ట్","ఛాలెంజెస్","సక్సెస్","జాయిన్"],n=v.carousel.map((o,i)=>({title:s[i]||`Slide ${i+1}`,img:o})),[t,r]=e.useState(0);e.useRef(new Set),e.useEffect(()=>{const o=setInterval(()=>{r(i=>(i+1)%n.length)},4500);return()=>clearInterval(o)},[]);const h=()=>r(o=>(o-1+n.length)%n.length),d=()=>r(o=>(o+1)%n.length);return u.jsx("section",{className:"py-16 bg-white",children:u.jsxs("div",{className:"max-w-6xl mx-auto px-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsx("h3",{className:"text-2xl font-bold",children:"Solutions"}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{onClick:h,className:"px-3 py-1 bg-white border rounded shadow",children:"◀"}),u.jsx("button",{onClick:d,className:"px-3 py-1 bg-white border rounded shadow",children:"▶"})]})]}),u.jsx("div",{className:"relative h-80 rounded-lg overflow-hidden shadow",children:u.jsx(V,{initial:!1,mode:"wait",children:u.jsxs(A.div,{className:"absolute inset-0",initial:{opacity:0,x:50},animate:{opacity:1,x:0},exit:{opacity:0,x:-50},transition:{duration:.6},children:[u.jsx("img",{src:n[t].img,alt:n[t].title,className:"w-full h-full object-cover",onError:o=>{const i=v.carouselFallbacks||[],l=o.currentTarget;l._tryCount=l._tryCount||0,l._tryCount<i.length?(l._tryCount+=1,l.src=i[l._tryCount-1]):l.src="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='800' height='450'><rect width='100%' height='100%' fill='%2394c942'/><text x='50%' y='50%' font-size='28' fill='white' font-family='Arial' text-anchor='middle'>Image Unavailable</text></svg>"}}),u.jsx("div",{className:"absolute left-4 bottom-4 bg-white/80 text-gray-900 px-4 py-2 rounded",children:n[t].title})]},t)})})]})})}export{q as default};
