import{r as e,u as I,s as L,a as F,P as T,L as _,b as $,I as v,j as d,m as U}from"./index-Cp8VgaqQ.js";const j=new Set;function A(o,t,n){j.has(t)||(console.warn(t),j.add(t))}function k(){const o=e.useRef(!1);return I(()=>(o.current=!0,()=>{o.current=!1}),[]),o}function O(){const o=k(),[t,n]=e.useState(0),r=e.useCallback(()=>{o.current&&n(t+1)},[t]);return[e.useCallback(()=>L.postRender(r),[r]),t]}class G extends e.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function K({children:o,isPresent:t}){const n=e.useId(),r=e.useRef(null),f=e.useRef({width:0,height:0,top:0,left:0});return e.useInsertionEffect(()=>{const{width:h,height:u,top:s,left:i}=f.current;if(t||!r.current||!h||!u)return;r.current.dataset.motionPopId=n;const a=document.createElement("style");return document.head.appendChild(a),a.sheet&&a.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${h}px !important;
            height: ${u}px !important;
            top: ${s}px !important;
            left: ${i}px !important;
          }
        `),()=>{document.head.removeChild(a)}},[t]),e.createElement(G,{isPresent:t,childRef:r,sizeRef:f},e.cloneElement(o,{ref:r}))}const R=({children:o,initial:t,isPresent:n,onExitComplete:r,custom:f,presenceAffectsLayout:h,mode:u})=>{const s=F(B),i=e.useId(),a=e.useMemo(()=>({id:i,initial:t,isPresent:n,custom:f,onExitComplete:p=>{s.set(p,!0);for(const l of s.values())if(!l)return;r&&r()},register:p=>(s.set(p,!1),()=>s.delete(p))}),h?void 0:[n]);return e.useMemo(()=>{s.forEach((p,l)=>s.set(l,!1))},[n]),e.useEffect(()=>{!n&&!s.size&&r&&r()},[n]),u==="popLayout"&&(o=e.createElement(K,{isPresent:n},o)),e.createElement(T.Provider,{value:a},o)};function B(){return new Map}const g=o=>o.key||"";function D(o,t){o.forEach(n=>{const r=g(n);t.set(r,n)})}function H(o){const t=[];return e.Children.forEach(o,n=>{e.isValidElement(n)&&t.push(n)}),t}const V=({children:o,custom:t,initial:n=!0,onExitComplete:r,exitBeforeEnter:f,presenceAffectsLayout:h=!0,mode:u="sync"})=>{f&&(u="wait",A(!1,"Replace exitBeforeEnter with mode='wait'"));let[s]=O();const i=e.useContext(_).forceRender;i&&(s=i);const a=k(),p=H(o);let l=p;const m=new Set,w=e.useRef(l),y=e.useRef(new Map).current,C=e.useRef(!0);if(I(()=>{C.current=!1,D(p,y),w.current=l}),$(()=>{C.current=!0,y.clear(),m.clear()}),C.current)return e.createElement(e.Fragment,null,l.map(c=>e.createElement(R,{key:g(c),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:h,mode:u},c)));l=[...l];const E=w.current.map(g),b=p.map(g),M=E.length;for(let c=0;c<M;c++){const x=E[c];b.indexOf(x)===-1&&m.add(x)}return u==="wait"&&m.size&&(l=[]),m.forEach(c=>{if(b.indexOf(c)!==-1)return;const x=y.get(c);if(!x)return;const N=E.indexOf(c),P=()=>{y.delete(c),m.delete(c);const S=w.current.findIndex(z=>z.key===c);if(w.current.splice(S,1),!m.size){if(w.current=p,a.current===!1)return;s(),r&&r()}};l.splice(N,0,e.createElement(R,{key:g(x),isPresent:!1,onExitComplete:P,custom:t,presenceAffectsLayout:h,mode:u},x))}),l=l.map(c=>{const x=c.key;return m.has(x)?c:e.createElement(R,{key:g(c),isPresent:!0,presenceAffectsLayout:h,mode:u},c)}),e.createElement(e.Fragment,null,m.size?l:l.map(c=>e.cloneElement(c)))};function q(){const o=["విజన్","మిషన్","ఆంధ్ర మ్యాప్","పార్టనర్స్","ఇంపాక్ట్","ఛాలెంజెస్","సక్సెస్","జాయిన్"],t=v.carousel.map((s,i)=>({title:o[i]||`Slide ${i+1}`,img:s})),[n,r]=e.useState(0),f=e.useRef(new Set);e.useEffect(()=>{const s=setInterval(()=>{r(i=>(i+1)%t.length)},4500);return()=>clearInterval(s)},[]);const h=()=>r(s=>(s-1+t.length)%t.length),u=()=>r(s=>(s+1)%t.length);return d.jsx("section",{className:"py-16 bg-white",children:d.jsxs("div",{className:"max-w-6xl mx-auto px-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsx("h3",{className:"text-2xl font-bold",children:"Solutions"}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("button",{onClick:h,className:"px-3 py-1 bg-white border rounded shadow",children:"◀"}),d.jsx("button",{onClick:u,className:"px-3 py-1 bg-white border rounded shadow",children:"▶"})]})]}),d.jsx("div",{className:"relative h-80 rounded-lg overflow-hidden shadow",children:d.jsx(V,{initial:!1,mode:"wait",children:d.jsxs(U.div,{className:"absolute inset-0",initial:{opacity:0,x:50},animate:{opacity:1,x:0},exit:{opacity:0,x:-50},transition:{duration:.6},children:[d.jsx("img",{src:t[n].img,alt:t[n].title,className:"w-full h-full object-cover",onLoad:s=>{try{const i=s.currentTarget.currentSrc||s.currentTarget.src;f.current.has(i)?setTimeout(()=>r(a=>(a+1)%t.length),50):f.current.add(i)}catch{}},onError:s=>{const i=v.carouselFallbacks||[],a=s.currentTarget;a._tryCount=a._tryCount||0,a._tryCount<i.length?(a._tryCount+=1,a.src=i[a._tryCount-1]):a.src="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='800' height='450'><rect width='100%' height='100%' fill='%2394c942'/><text x='50%' y='50%' font-size='28' fill='white' font-family='Arial' text-anchor='middle'>Image Unavailable</text></svg>"}}),d.jsx("div",{className:"absolute left-4 bottom-4 bg-white/80 text-gray-900 px-4 py-2 rounded",children:t[n].title})]},n)})})]})})}export{q as default};
